package com.dennytech.wiiivideo.parser;import java.util.ArrayList;import java.util.List;import org.jsoup.Jsoup;import org.jsoup.nodes.Document;import org.jsoup.nodes.Element;import org.jsoup.select.Elements;import com.dennytech.common.util.Log;import com.dennytech.wiiivideo.data.Video;public class UserPlaylistParseHelper implements ParseHelper {		private static UserPlaylistParseHelper instance;	public synchronized static UserPlaylistParseHelper instance() {		if (instance == null) {			instance = new UserPlaylistParseHelper();		}		return instance;	}	@Override	public String parse(String scriptName, String source) {		return null;	}	@Override	public List<Video> parseByDefault(String source) {		List<Video> list = new ArrayList<Video>();		try {			Document doc = Jsoup.parse(source);			Elements videoList = doc.getElementsByClass("videoList");			if (videoList != null && videoList.size() > 0) {				Elements v =  videoList.get(0).getElementsByClass("v");				if (v != null && v.size() > 0) {					for (Element element : v) {						Video video = new Video();						// thumb						Element thumb = element.getElementsByClass("v_thumb").get(0);						video.thumb = thumb.getElementsByTag("img").get(0).attr("src");						// time						Element time = element.getElementsByClass("v_time").get(0);						video.length = time.getElementsByClass("num").get(0).text();						// stat						Element stat = element.getElementsByClass("v_stat").get(0);						video.playTimes = stat.getElementsByClass("num").get(0).text();						// title						Element title = element.getElementsByClass("v_title").get(0);						video.title = title.getElementsByTag("a").get(0).attr("title");						String url = title.getElementsByTag("a").get(0).attr("href");						url = url.replace("http://v.youku.com/v_show/id_", "");						int end = url.indexOf(".html");						video.id = url.substring(0, end);						// user						Element user = element.getElementsByClass("v_user").get(0);						video.publishTime = user.getElementsByTag("a").get(0).text();						list.add(video);					}				}			}					} catch (Exception e) {			Log.e("userplaylist", "user playlist parse failed", e);		}		return list;	}	@Override	public void close() {	}}