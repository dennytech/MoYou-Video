package com.dennytech.wiiivideo.playlist.view;import android.content.Context;import android.content.Intent;import android.net.Uri;import android.util.AttributeSet;import android.view.View;import android.view.View.OnClickListener;import android.widget.LinearLayout;import android.widget.TextView;import com.dennytech.wiiivideo.R;import com.dennytech.wiiivideo.data.Playlist;import com.dennytech.wiiivideo.data.Video;import com.dennytech.wiiivideo.widget.NetworkImageView;public class PlaylistListItem extends LinearLayout implements OnClickListener {	private NetworkImageView authorIcon;	private TextView authorName;	private TextView title;	private TextView update;	private TextView playtimes;	private TextView count;	private NetworkImageView videoThumb0;	private TextView videoTitle0;	private NetworkImageView videoThumb1;	private TextView videoTitle1;	private View videoItem0;	private View videoItem1;	private View more;	public PlaylistListItem(Context context) {		super(context);	}	public PlaylistListItem(Context context, AttributeSet attrs) {		super(context, attrs);	}	@Override	protected void onFinishInflate() {		super.onFinishInflate();		authorIcon = (NetworkImageView) findViewById(R.id.author_icon);		authorName = (TextView) findViewById(R.id.author_name);		title = (TextView) findViewById(R.id.title);		update = (TextView) findViewById(R.id.update_time);		playtimes = (TextView) findViewById(R.id.play_times);		count = (TextView) findViewById(R.id.count);		videoThumb0 = (NetworkImageView) findViewById(R.id.video_thumb0);		videoThumb1 = (NetworkImageView) findViewById(R.id.video_thumb1);		videoTitle0 = (TextView) findViewById(R.id.video_title0);		videoTitle1 = (TextView) findViewById(R.id.video_title1);		videoItem0 = findViewById(R.id.video_item0);		videoItem1 = findViewById(R.id.video_item1);		more = findViewById(R.id.more);		videoItem0.setOnClickListener(this);		videoItem1.setOnClickListener(this);		more.setOnClickListener(this);	}	public void setData(Playlist data) {		authorIcon.setImage(data.user.icon);		authorName.setText(data.user.name);		title.setText(data.title);		update.setText(data.updateTime);		playtimes.setText(data.playTimes);		count.setText(data.count);		videoThumb0.setImage(data.videos[0].thumb);		videoTitle0.setText(data.videos[0].title);		videoThumb1.setImage(data.videos[1].thumb);		videoTitle1.setText(data.videos[1].title);		videoItem0.setTag(data.videos[0]);		videoItem1.setTag(data.videos[1]);		more.setTag(data);	}	@Override	public void onClick(View v) {		if (v == videoItem0) {			playVideo((Video) v.getTag());		} else if (v == videoItem1) {			playVideo((Video) v.getTag());		} else if (v == more) {			Playlist pl = (Playlist) v.getTag();			Intent i = new Intent(Intent.ACTION_VIEW,					Uri.parse("wvideo://userplaylist"));			i.putExtra("url", pl.url.replace(".html", ""));			getContext().startActivity(i);		}	}	protected void playVideo(Video v) {		String url = "http://v.youku.com/player/getM3U8/vid/" + v.id				+ "/type/mp4/v.m3u8";		Intent intent = new Intent(Intent.ACTION_VIEW,				Uri.parse("wvideo://player?url=" + url));		getContext().startActivity(intent);	}}